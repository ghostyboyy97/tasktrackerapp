@import "modules";

$accent: #0049DF;
$lightAccent: #87A6D5;
$lightGray: #EEF0F4;

// clear default styling
body{
    @include square();
    margin: 0;
    font-family: "Jost", sans-serif;
    @include flex(column);
}
button{
    background: none;
	color: inherit;
	border: none;
	padding: 0;
	font: inherit;
	cursor: pointer;
	outline: inherit;
    &.nav_button{
        @include rect(3rem, 0.75rem, 0.5rem);
        margin-top: 0.5rem;
        background-color: $lightAccent;
        font-size: 0.33em;
        color: white;
        @include flex(row, center, center);
        transition: background-color 0.33s ease;
        &:hover{
            background-color: $accent;
        }
    }
}

input, textarea{
    all: unset;
    border: 2px solid transparent;
    transition: border-color 0.15s ease-in-out;
    font-family: "Jost", sans-serif;
    &:hover{
        border-color: $lightAccent;
    }
    &:focus, &:active{
        border-color: $accent;
    }
}


header{
    @include rect(100%, 2em);
    flex-shrink: 0;
    padding: 0 0.45em;
    box-sizing: border-box;
    @include flex(row, space-between, center);
    background-color: $accent;
    h1{
        font-size: 0.5em;
        color: white;
    }
    button{
        @include square(1rem, 50%);
        font-size: 0.5em;
        border: 2px solid white;
        color: white;
        transition: transform 0.33s ease, background-color 0.33s ease, color 0.33s ease, border-color 0.33s ease;
        &:hover{
            background-color: white;
            color: $accent;
            border-color: $accent;
        }
    }
}

main{
    @include rect(100%, calc(100% - 2em));
    padding: 0.45em;
    box-sizing: border-box;
    &.rendered{
        h2{
            transform: translateY(0);
            opacity: 1;
        }
        .all_lists__ctr{
            .list_entry{
                transform: translateX(0);
                opacity: 1;
                pointer-events: auto;
                &:nth-of-type(0){
                    transition-delay: 0.15s;
                }
                &:nth-of-type(1){
                    transition-delay: 0.3s;
                }
                &:nth-of-type(2){
                    transition-delay: 0.45s;
                }
                &:nth-of-type(3){
                    transition-delay: 0.6s;
                }
                &:nth-of-type(4){
                    transition-delay: 0.75s;
                }
                &:nth-of-type(5){
                    transition-delay: 0.9s;
                }
                &:nth-of-type(6){
                    transition-delay: 1.05s;
                }
                &:nth-of-type(7){
                    transition-delay: 1.2s;
                }
                &:nth-of-type(8){
                    transition-delay: 1.35s;
                }
                &:nth-of-type(9){
                    transition-delay: 1.5s;
                }
                &:nth-of-type(10){
                    transition-delay: 1.65s;
                }
            }
        }
        .list_ctr{
            transform: translateX(0);
            opacity: 1;
        }
    }
    h2{
        margin-top: 0;
        font-size: 0.4em;
        margin-bottom: 0.2rem;
        transform: translateY(-0.4em);
        opacity: 0;
        transition: transform 0.33s ease, opacity 0.33s ease;
    }
    .all_lists__ctr{
        width: min(75dvw, 100%);
        padding-right: 0.25em;
        overflow-y: auto;
        display: flex;
        flex-direction: column;
        .list_entry{
            @include rect(100%, fit-content);
            @include flex(row, space-between, center);
            padding: 0.05em 0;
            box-sizing: border-box;
            cursor: pointer;
            transform: translateX(-0.5em);
            opacity: 0;
            pointer-events: none;
            transition: transform 0.33s ease, opacity 0.33s ease;
            &:hover{
                .list_entry__title{
                    font-weight: 500;
                }
                .list_entry__button img{
                    transform: translateX(20%);
                }
            }
            &:not(.add_list):nth-of-type(odd){
                background: $lightGray;
            }
            .list_entry__icon{
                @include square(0.4em);
                margin-right: 0.1em;
                display: flex;
                img{
                    @include square();
                }
            }
            .list_entry__button{
                @include flex(row, center, center);
                margin-right: 0.25rem;
                img{
                    margin-left: 0.15rem;
                    @include rect(0.43rem, 0.3rem);
                    transition: transform 0.33s ease;
                }
            }
            .list_entry__title, .list_entry__button{
                font-size: 0.33em;
                transition: font-weight 0.33s ease;
            }
            .list_entry__icon, .list_entry__button{
                flex-shrink: 0;
            }
            .list_entry__title{
                width: 100%;
            }
            &.add_list{
                @include rect(3rem, 0.75rem, 0.5rem);
                margin-top: 0.5rem;
                background-color: $lightAccent;
                font-size: 0.33em;
                color: white;
                @include flex(row, center, center);
                transition: background-color 0.33s ease;
                &:hover{
                    background-color: $accent;
                }
            }
        }
    }

    .list_ctr{
        @include square();
        display: flex;
        flex-direction: column;
        transform: translateX(125%);
        opacity: 0;
        transition: transform 0.33s ease, opacity 0.33s ease;
        .nav_button{
            margin-top: 0;
            flex-shrink: 0;
        }
        #listTitle{
            margin: 0.25rem 0 0.1rem;
            font-size: 0.5rem;
            flex-shrink: 0;
        }
        .list_ctr__items{
            @include rect(100%, fit-content);
            max-height: 100%;
            padding-right: 0.3em;
            box-sizing: border-box;
            @include flex(column);
            overflow-y: auto;
            .list_ctr__item{
                width: 100%;
                margin: 10px 0;
                flex-shrink: 0;
                display: grid;
                grid-template-areas: 
                    "status title delete"
                    "empty desc desc";
                grid-template-columns: 2em 1fr 0.4em;
                gap: 0.1em 0.1em;
                select{
                    grid-area: status;
                    border: 2px solid transparent;
                    &:has(> option[value="to_do"]:checked){
                        border-color: $lightAccent;
                        background-color: rgba($lightAccent, 0.5);
                    }
                    &:has(> option[value="in_progress"]:checked){
                        border-color: rgb(231, 173, 0);
                        background-color: rgba(231, 173, 0, 0.5);
                    }
                    &:has(> option[value="on_hold"]:checked){
                        border-color: #E0003C;
                        background-color: rgba(#E0003C, 0.5);
                    }
                    &:has(> option[value="completed"]:checked){
                        border-color: #7FBA00;
                        background-color: rgba(#7FBA00, 0.5);
                    }
                }
                input{
                    grid-area: title;
                    font-size: 0.33em;
                }
                button{
                    grid-area: delete;
                    @include flex(row, flex-end, center);
                    img{
                        @include square(0.4em);
                    }
                }
                textarea{
                    grid-area: desc;
                    font-size: 0.2rem;
                    background-color: #EEF0F4;
                }
            }
        }
        .nav_button[data-js-add-list-item]{
            @include square(0.8rem);
            margin-top: 0.15em;
            flex-shrink: 0;
            img{
                @include square(0.4rem);
            }
        }
    }
}
